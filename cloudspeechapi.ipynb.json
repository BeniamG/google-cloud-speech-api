{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Google Cloud Speech API Text"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "This is an attempt to utilize the Google Cloud Speech API to convert an audio file to text.\n",
    "\n",
    "Google Cloud Speech API reqiures \n",
    "\n",
    "Important references:\n",
    "1. Google Documentation\n",
    "    1. [Google's overview of documnetation](https://cloud.google.com/speech/docs/)\n",
    "    1. [Google Cloud Speech Quickstart Guide](https://cloud.google.com/speech/docs/getting-started) \n",
    "2. Helpful Examples\n",
    "    1. [Digital Inspiration Tutorial](https://ctrlq.org/code/20280-google-cloud-speech-api)\n",
    "3. Audio Converters (AAC - FLAC)\n",
    "    1. [Make Use Of Review](http://www.makeuseof.com/tag/audio-converters-for-mac-max-vs-xld/)\n",
    "    2. [VLC seems to work](https://www.videolan.org/vlc/features.html)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "          <script src=\"/static/components/requirejs/require.js\"></script>\n",
       "          <script>\n",
       "            requirejs.config({\n",
       "              paths: {\n",
       "                base: '/static/base',\n",
       "              },\n",
       "            });\n",
       "          </script>\n",
       "          "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "total 44\r\n",
      "drwxr-xr-x 4 root root 4096 Nov  1 20:50 .\r\n",
      "drwxr-xr-x 7 root root 4096 Nov  1 20:45 ..\r\n",
      "-rw-r--r-- 1 root root 3075 Nov  1 20:50 cloudspeechapi.ipynb\r\n",
      "drwxr-xr-x 8 root root 4096 Nov  1 20:37 .git\r\n",
      "-rw-r--r-- 1 root root 6421 Nov  1 20:37 history.txt\r\n",
      "drwxr-xr-x 2 root root 4096 Nov  1 20:37 .ipynb_checkpoints\r\n",
      "-rw-r--r-- 1 root root   62 Nov  1 20:37 README.md\r\n",
      "-rwxr-xr-x 1 root root 1484 Nov  1 20:49 simple-test-datalab.sh\r\n",
      "-rwxr-xr-x 1 root root 1486 Nov  1 20:48 simple-test.sh\r\n",
      "-rwxr-xr-x 1 root root 1923 Nov  1 20:37 speech-api.sh\r\n"
     ]
    }
   ],
   "source": [
    "! ls -la"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "          <script src=\"/static/components/requirejs/require.js\"></script>\n",
       "          <script>\n",
       "            requirejs.config({\n",
       "              paths: {\n",
       "                base: '/static/base',\n",
       "              },\n",
       "            });\n",
       "          </script>\n",
       "          "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Get:1 http://ftp.us.debian.org/debian testing InRelease [136 kB]\n",
      "Get:2 http://security.ubuntu.com/ubuntu xenial-security InRelease [102 kB]\n",
      "Ign:1 http://ftp.us.debian.org/debian testing InRelease\n",
      "Ign:2 http://security.ubuntu.com/ubuntu xenial-security InRelease\n",
      "Get:3 http://archive.ubuntu.com/ubuntu xenial InRelease [247 kB]\n",
      "Ign:3 http://archive.ubuntu.com/ubuntu xenial InRelease\n",
      "Get:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease [102 kB]\n",
      "Ign:4 http://archive.ubuntu.com/ubuntu xenial-updates InRelease\n",
      "Get:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease [102 kB]\n",
      "Ign:5 http://archive.ubuntu.com/ubuntu xenial-backports InRelease\n",
      "Fetched 689 kB in 0s (843 kB/s)\n",
      "Reading package lists... Done\n",
      "W: GPG error: http://ftp.us.debian.org/debian testing InRelease: Could not execute 'apt-key' to verify signature (is gnupg installed?)\n",
      "W: The repository 'http://ftp.us.debian.org/debian testing InRelease' is not signed.\n",
      "N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.\n",
      "N: See apt-secure(8) manpage for repository creation and user configuration details.\n",
      "W: GPG error: http://security.ubuntu.com/ubuntu xenial-security InRelease: Could not execute 'apt-key' to verify signature (is gnupg installed?)\n",
      "W: The repository 'http://security.ubuntu.com/ubuntu xenial-security InRelease' is not signed.\n",
      "N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.\n",
      "N: See apt-secure(8) manpage for repository creation and user configuration details.\n",
      "W: GPG error: http://archive.ubuntu.com/ubuntu xenial InRelease: Could not execute 'apt-key' to verify signature (is gnupg installed?)\n",
      "W: The repository 'http://archive.ubuntu.com/ubuntu xenial InRelease' is not signed.\n",
      "N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.\n",
      "N: See apt-secure(8) manpage for repository creation and user configuration details.\n",
      "W: GPG error: http://archive.ubuntu.com/ubuntu xenial-updates InRelease: Could not execute 'apt-key' to verify signature (is gnupg installed?)\n",
      "W: The repository 'http://archive.ubuntu.com/ubuntu xenial-updates InRelease' is not signed.\n",
      "N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.\n",
      "N: See apt-secure(8) manpage for repository creation and user configuration details.\n",
      "W: GPG error: http://archive.ubuntu.com/ubuntu xenial-backports InRelease: Could not execute 'apt-key' to verify signature (is gnupg installed?)\n",
      "W: The repository 'http://archive.ubuntu.com/ubuntu xenial-backports InRelease' is not signed.\n",
      "N: Data from such a repository can't be authenticated and is therefore potentially dangerous to use.\n",
      "N: See apt-secure(8) manpage for repository creation and user configuration details.\n",
      "Reading package lists... Done\n",
      "Building dependency tree       \n",
      "Reading state information... Done\n",
      "The following additional packages will be installed:\n",
      "  libonig2\n",
      "The following NEW packages will be installed:\n",
      "  jq libonig2\n",
      "0 upgraded, 2 newly installed, 0 to remove and 7 not upgraded.\n",
      "Need to get 232 kB of archives.\n",
      "After this operation, 829 kB of additional disk space will be used.\n",
      "WARNING: The following packages cannot be authenticated!\n",
      "  libonig2 jq\n",
      "Authentication warning overridden.\n",
      "Get:1 http://archive.ubuntu.com/ubuntu xenial/universe amd64 libonig2 amd64 5.9.6-1 [88.1 kB]\n",
      "Get:2 http://archive.ubuntu.com/ubuntu xenial/universe amd64 jq amd64 1.5+dfsg-1 [144 kB]\n",
      "Fetched 232 kB in 0s (380 kB/s)\n",
      "debconf: delaying package configuration, since apt-utils is not installed\n",
      "Selecting previously unselected package libonig2:amd64.\n",
      "dpkg: warning: files list file for package 'libquadmath0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libfontconfig1-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liblapack-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libedit2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpam-runtime' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libncurses5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgomp1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3.5' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libatomic1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gfortran' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3-stdlib:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'cpp' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libapt-pkg5.0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libaudit1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'readline-common' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'makedev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'debian-keyring' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libtinfo5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgdbm3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libfontconfig1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'perl-base' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libudev1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libnettle6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python-setuptools' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libatlas3-base' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'git-man' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libicu55:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libattr1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libk5crypto3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libss2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libexpat1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcc1-0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'make' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liblzma5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'fontconfig-config' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libzmq5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpam-modules-bin' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'grep' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'x11proto-core-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libssl1.0.0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'base-passwd' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'e2fslibs:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liblz4-1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libmpx0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'debianutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'mime-support' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libwind0-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgcrypt20:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libncursesw5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liberror-perl' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'curl' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'bash' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libblas-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libuuid1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libdb5.3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'build-essential' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpthread-stubs0-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'fonts-dejavu-core' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcilkrts5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcap2-bin' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'debconf' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'zlib1g:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libblas-common' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcurl3-gnutls:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3.5:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'hostname' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'multiarch-support' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'init' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'systemd-sysv' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libasn1-8-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'mawk' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gzip' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libubsan0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libtsan0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgfortran3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liblapack3' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libglib2.0-0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gpgv' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'xorg-sgml-doctools' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3.5-stdlib:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcap2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'bsdutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'dash' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gcc-6-base:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsasl2-modules-db:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gnupg' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'unzip' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'linux-libc-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'mount' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libhcrypto4-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgnutls30:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libx11-6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsasl2-2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsystemd0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libdpkg-perl' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libc6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python2.7' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gfortran-5' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxrender-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libasan2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxau-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libfdisk1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libroken18-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpcre3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'x11proto-kb-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'librtmp1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libdevmapper1.02.1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gcc' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libicu-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python-pkg-resources' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libperl5.22:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'coreutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libbsd0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'e2fsprogs' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpng12-0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'tar' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libkrb5support0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3.5-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libhx509-5-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libbz2-1.0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'ucf' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libkmod2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxml2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'zip' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libblkid1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libfreetype6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libtasn1-6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python-minimal' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'bzip2' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgfortran-5-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxml2-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'lsb-base' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libhogweed4:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3.5-minimal' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'liblsan0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'procps' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgssapi-krb5-2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'perl' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgpg-error0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython-stdlib:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'pkg-config' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'base-files' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxft-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libisl15:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgmp10:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'sensible-utils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'xtrans-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libblas3' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'dpkg-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'patch' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'passwd' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'init-system-helpers' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxdmcp-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'ncurses-base' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libc-bin' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsemanage1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libatlas-base-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'perl-modules-5.22' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libfreetype6-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libseccomp2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libapparmor1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libldap-2.4-2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'sysvinit-utils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'xz-utils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'debian-archive-keyring' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libheimbase1-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsemanage-common' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libp11-kit0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3-minimal' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgcc-5-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libdebconfclient0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libselinux1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'systemd' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython2.7:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'dpkg' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'openssl' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'wget' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsqlite3-0:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'sysv-rc' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'apt' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libmpfr4:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libexpat1-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxrender1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpng12-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'diffutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxcb1-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'g++' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpam-modules:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libatlas-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libmpc3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'insserv' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libstdc++6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libkrb5-3:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython2.7-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'binutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libffi6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libaudit-common' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'icu-devtools' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gcc-5' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libc-dev-bin' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libkrb5-26-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcomerr2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libx11-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'findutils' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'x11proto-render-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpam0g:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsodium18:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxdmcp6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libmount1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'g++-5' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libkeyutils1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxft2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'login' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgssapi3-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython2.7-minimal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'adduser' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'initscripts' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python3.5-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'ca-certificates' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libacl1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'openssh-client' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'ncurses-bin' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libprocps4:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'dh-python' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python-zmq' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libc6-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python2.7-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'cpp-5' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxcb1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libusb-0.1-4:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'locales' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'x11proto-input-dev' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'git' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libheimntlm0-heimdal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsepol1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libitm1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libx11-data' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython2.7-stdlib:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libxau6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libidn11:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libmpdec2:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'ubuntu-keyring' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libgcc1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libreadline6:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'util-linux' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'gcc-5-base:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libustr-1.0-1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'python2.7-minimal' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3.5-minimal:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'sed' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libsmartcols1:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libstdc++-5-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libcryptsetup4:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'zlib1g-dev:amd64' missing; assuming package has no files currently installed\n",
      "dpkg: warning: files list file for package 'libpython3-dev:amd64' missing; assuming package has no files currently installed\n",
      "(Reading database ... 13 files and directories currently installed.)\n",
      "Preparing to unpack .../libonig2_5.9.6-1_amd64.deb ...\n",
      "Unpacking libonig2:amd64 (5.9.6-1) ...\n",
      "Selecting previously unselected package jq.\n",
      "Preparing to unpack .../jq_1.5+dfsg-1_amd64.deb ...\n",
      "Unpacking jq (1.5+dfsg-1) ...\n",
      "Setting up libonig2:amd64 (5.9.6-1) ...\n",
      "Setting up jq (1.5+dfsg-1) ...\n",
      "Processing triggers for libc-bin (2.23-0ubuntu9) ...\n"
     ]
    }
   ],
   "source": [
    "! apt-get update && apt-get install --yes --allow-unauthenticated jq"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "          <script src=\"/static/components/requirejs/require.js\"></script>\n",
       "          <script>\n",
       "            requirejs.config({\n",
       "              paths: {\n",
       "                base: '/static/base',\n",
       "              },\n",
       "            });\n",
       "          </script>\n",
       "          "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "! chmod 755 simple-test-datalab.sh"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {
    "collapsed": false
   },
   "outputs": [
    {
     "data": {
      "text/html": [
       "\n",
       "          <script src=\"/static/components/requirejs/require.js\"></script>\n",
       "          <script>\n",
       "            requirejs.config({\n",
       "              paths: {\n",
       "                base: '/static/base',\n",
       "              },\n",
       "            });\n",
       "          </script>\n",
       "          "
      ],
      "text/plain": [
       "<IPython.core.display.HTML object>"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Waiting for job 4815198469428319519 to finish\n",
      "{\n",
      "  \"name\": \"4815198469428319519\",\n",
      "  \"metadata\": {\n",
      "    \"@type\": \"type.googleapis.com/google.cloud.speech.v1.LongRunningRecognizeMetadata\",\n",
      "    \"progressPercent\": 100,\n",
      "    \"startTime\": \"2017-11-01T20:54:51.199860Z\",\n",
      "    \"lastUpdateTime\": \"2017-11-01T20:54:51.976173Z\"\n",
      "  },\n",
      "  \"done\": true,\n",
      "  \"response\": {\n",
      "    \"@type\": \"type.googleapis.com/google.cloud.speech.v1.LongRunningRecognizeResponse\",\n",
      "    \"results\": [\n",
      "      {\n",
      "        \"alternatives\": [\n",
      "          {\n",
      "            \"transcript\": \"how old is the Brooklyn Bridge\",\n",
      "            \"confidence\": 0.987629\n",
      "          }\n",
      "        ]\n",
      "      }\n",
      "    ],\n",
      "    \"totalBilledTime\": \"15s\"\n",
      "  }\n",
      "}\n",
      "Run these commands again if the job is not yet done:\n",
      "\n",
      "curl -s -k -H \"Content-Type: application/json\"     -H \"Authorization: Bearer ya29.c.Elr2BNkFh-seAdPdzDkrQBS0mktX7lQOvnRW5tN5OSp_qDdePSimvBZdr7LkGEabJZhFD5QyX9E64xQw8zULv61W1uDyQgwRhzQJQDDRReMN4fYicie2nmDbSuQ\"     https://speech.googleapis.com/v1/operations/4815198469428319519 > simple-test-output.json\n",
      "cat simple-test-output.json\n"
     ]
    }
   ],
   "source": [
    "! ./simple-test-datalab.sh"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "anaconda-cloud": {},
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.5.2"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 1
}
